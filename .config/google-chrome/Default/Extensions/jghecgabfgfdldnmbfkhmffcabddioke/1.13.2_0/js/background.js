(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a){const b=a("./modules/config"),c=a("./modules/storage-local-async"),d=a("./modules/utils"),e="app-version",f={};window.audioStates=f;const g=(a,c)=>{const d=new window.AudioContext,e=d.createMediaStreamSource(c),g=d.createGain();e.connect(g),g.connect(d.destination),f[a]=f[a]||{},f[a][b.AUDIO_STATE_AUDIO_CONTEXT]=d,f[a][b.AUDIO_STATE_GAIN_NODE]=g},h=(a,c)=>{f[a][b.AUDIO_STATE_GAIN_NODE].gain.value=c/100},i=(a,c)=>{f[a]=f[a]||{},f[a][b.AUDIO_STATE_GAIN_VALUE]=c/100},j=(a,c)=>{if(a.action===b.ACTION_POPUP_GET_GAIN_VALUE){let d=null;a.tabId in f&&(d=f[a.tabId][b.AUDIO_STATE_GAIN_VALUE]),c({gainValue:d})}a.action===b.ACTION_POPUP_VOLUME_CHANGE&&(a.tabId in f?(i(a.tabId,a.volumeValue),h(a.tabId,a.volumeValue),d.updateBadge(a.tabId,a.volumeValue)):(i(a.tabId,a.volumeValue),chrome.tabCapture.capture({audio:!0,video:!1},b=>{chrome.runtime.lastError?d.dce(chrome.runtime.lastError):(g(a.tabId,b),h(a.tabId,a.volumeValue),d.updateBadge(a.tabId,a.volumeValue))})))};chrome.tabs.onRemoved.addListener(a=>{a in f&&f[a][b.AUDIO_STATE_AUDIO_CONTEXT].close().then(()=>{delete f[a]})}),chrome.runtime.onMessage.addListener((a,b,c)=>{j(a,c)}),chrome.runtime.onInstalled.addListener(async({reason:a})=>{if(a===chrome.runtime.OnInstalledReason.INSTALL)chrome.tabs.create({url:b.INSTALL_URL});else if(a===chrome.runtime.OnInstalledReason.UPDATE){const a=await c.load(e,null);(!a||a!=b.APP_VERSION)&&b.APP_VERSION_WITH_UPDATE_URL.includes(b.APP_VERSION)&&chrome.tabs.create({url:b.UPDATE_URL})}await c.save(e,b.APP_VERSION)}),chrome.runtime.setUninstallURL(b.UNINSTALL_URL)},{"./modules/config":2,"./modules/storage-local-async":3,"./modules/utils":4}],2:[function(a,b){const c="https://www.petasittek.com/",d=`${c}volume-master/`,e=new URLSearchParams({utm_source:"volume-master",utm_medium:"browser-extension",utm_campaign:"chrome",utm_content:"none"}),f=chrome.runtime.getManifest().version,g=(a,b="")=>{const c=new URL(a);if(b){const a=new URLSearchParams(e);a.set("utm_content",b),c.search=a.toString()}return c.href};b.exports={CWS_REVIEWS_URL:`${"https://chrome.google.com/webstore/detail/volume-master/jghecgabfgfdldnmbfkhmffcabddioke"}/reviews`,HOMEPAGE_URL:g(c),INSTALL_URL:g(c,"install"),UNINSTALL_URL:g(c,"uninstall"),FOOTER_URL:g(c,"footer"),ISSUE_URL:g(`${d}issue/`),UPDATE_URL:g(`${`${d}version/`}${f}`,"update"),APP_VERSION:f,APP_VERSION_WITH_UPDATE_URL:["1.10.7","1.12.6","1.13.2"],DEVELOPMENT_MODE:!("update_url"in chrome.runtime.getManifest()),ACTION_POPUP_GET_GAIN_VALUE:"popup-get-gain-value",ACTION_POPUP_VOLUME_CHANGE:"popup-volume-change",AUDIO_STATE_AUDIO_CONTEXT:"audioContext",AUDIO_STATE_GAIN_NODE:"gainNode",AUDIO_STATE_GAIN_VALUE:"gainValue",VOLUME_VALUE_DEFAULT:100,VOLUME_VALUE_MAX:600,HTML_JS_HOOK_VOLUME_SLIDER:".js-volume-slider__slider"}},{}],3:[function(a,b){b.exports={save:(a,b)=>new Promise(c=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.set(d,()=>{c()})}),load:(a,b)=>new Promise(c=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.get(d,b=>{c(JSON.parse(b[a]))})})}},{}],4:[function(a,b){const c=a("./config");let d=0;const e=(a,b)=>{d+=1,c.DEVELOPMENT_MODE&&(a(`-- ${d} --`),a(b))};b.exports={dcl:a=>{e(console.log,a)},dce:a=>{e(console.error,a)},updateBadge:(a,b)=>{chrome.browserAction.setBadgeText({text:`${b}`,tabId:a})}}},{"./config":2}]},{},[1]);