(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a,b){const c="2029-12-31",d=100,e=200,f=`If you like Volume Master please rate it on <a href="https://chrome.google.com/webstore/detail/volume-master/jghecgabfgfdldnmbfkhmffcabddioke/reviews" target="_blank" tabindex="-1">Chrome Web Store</a> to let me know that. If you don't want to - it's ok. Thank you for your feedback and have a nice day! ‚òÄÔ∏è`,g="Volume Master is a \"pay what you like\" software. You can use it for free, forever. \uD83D\uDE0A",h=`However, if you really like it, you can <a href="https://www.petasittek.com/pay-what-you-like/" target="_blank" tabindex="-1">pay for it to support its development</a>. As a thank-you you'll get <strong>800&nbsp;% volume boost</strong>. It's up to you and it's ok if you don't want to. Thank you and have a nice day! ‚òÄÔ∏è`;b.exports={notifications:[{id:"8evjmxn94cchdjii45kq2pdsnndzcxsu",priority:e,title:g,message:h,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1,maxDaysFromInstallation:11},{id:"v3za9vcy6rji3kx3t32wzjdqi7ztqmxw",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:12,maxDaysFromInstallation:13},{id:"cvifms5exdmqy2g3ar4kzhmxi4zepvvq",priority:d,title:"Tip: custom keyboard shortcut",message:"Just type <strong>chrome://extensions/shortcuts</strong> in the address bar and set your own shortcut to open Volume Master.",dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:6,maxDaysFromInstallation:null},{id:"h6s5u6eqgjpxwqasujret4vz2pnkj945",priority:d,title:"Tip: use keys 0 - 6 to adjust volume",message:"Right after opening Volume Master press keys 0&nbsp;-&nbsp;6 to change volume from 0&nbsp;% to 600&nbsp;% respectively.",dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:8,maxDaysFromInstallation:null},{id:"tk7tse8yedvsdyve2dtpzd349hkbnugk",priority:d,title:"Tip: adjust volume with arrow keys",message:"Right after opening Volume Master press:<ul><li>\u2B06\uFE0F or \u27A1\uFE0F to volume up</li><li>\u2B07\uFE0F or \u2B05\uFE0F to volume down</li></ul>",dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:12,maxDaysFromInstallation:null},{id:"fms5exdvb8b9e6kk4bc2pckq3zcvifnr",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:14,maxDaysFromInstallation:29},{id:"b8b9uivc4yde6kk4bc2pckq3zjt2vfnr",priority:e,title:g,message:h,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:30,maxDaysFromInstallation:89},{id:"e6kk46kk4bc2pcxdvb8b9kq3zjt2vfnr",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:90,maxDaysFromInstallation:179},{id:"ff9cvpupxqqwrxm5p7at3xt332igtb38",priority:e,title:g,message:h,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:180,maxDaysFromInstallation:269},{id:"jibaemgq5hw777pksb27ywv6y2dppiyh",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:270,maxDaysFromInstallation:364},{id:"uvfqat8542f87kk6yj5hnm556qbru8b6",priority:e,title:`Congratulations, you're celebrating 1 year with Volume Master! üéâ`,message:`${g} ${h}`,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:365,maxDaysFromInstallation:539},{id:"jbve32m6sefvfc6bwmkmngqgxmnzsdtd",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:540,maxDaysFromInstallation:729},{id:"b66vv722k5v3ndkfase93pr7hupb9yyt",priority:e,title:`Congratulations, you're celebrating 2 years with Volume Master! üéâ`,message:`${g} ${h}`,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:730,maxDaysFromInstallation:899},{id:"kv79qxn7fh8s3z8xh8yiu7qdig6gn5ws",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:900,maxDaysFromInstallation:1094},{id:"p52xqawqq7wa525m3m7fvxnuczfhu3ua",priority:e,title:`Congratulations, you're now celebrating 3 years with Volume Master! üéâ`,message:`${g} ${h}`,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1095,maxDaysFromInstallation:1259},{id:"mvjgy5swr8h35htufk7y3aziupxscqtg",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1260,maxDaysFromInstallation:1459},{id:"t6c9hnd8kyz2kqpmrvdwa6jdnhyvgz9w",priority:e,title:`Congratulations, you're now celebrating 4 years with Volume Master! üéâ`,message:`${g} ${h}`,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1460,maxDaysFromInstallation:1639},{id:"fypaf96knvw49uprc5ux9fkbcx4mj7fr",priority:e,title:"",message:f,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1640,maxDaysFromInstallation:1824},{id:"5dfhc4hhkp3vb7dm6ge63tu7p8d4r3ww",priority:e,title:`Congratulations, you're now celebrating 5 years with Volume Master! üéâ`,message:`${g} ${h}`,dateFrom:"2018-01-01",dateTo:c,minDaysFromInstallation:1825,maxDaysFromInstallation:null}]}},{}],2:[function(a,b){const c=a("./config"),{getSliderValues:d}=a("./slider"),e=document.querySelector(".js-actions__reset"),f=document.querySelector(".js-actions__restore"),g=document.querySelector(c.HTML_JS_HOOK_VOLUME_SLIDER),h=100,i=a=>{chrome.runtime.sendMessage({action:c.ACTION_POPUP_GET_GAIN_VALUE,tabId:a},a=>{if(null===a.gainValue)e.classList.add("is-hidden"),f.classList.contains("is-hidden")&&(e.classList.remove("is-hidden"),e.setAttribute("disabled","disabled"));else{e.classList.remove("is-hidden");const a=d(c.VOLUME_VALUE_DEFAULT);g.value==a.indexOf(h)?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")}})},j=()=>{e.addEventListener("click",()=>{const a=d(c.VOLUME_VALUE_DEFAULT);g.value=a.indexOf(h),g.dispatchEvent(new Event("input")),g.dispatchEvent(new Event("change"))})};b.exports={initActionResetUI:a=>{i(a),j()},renderActionResetUI:i}},{"./config":4,"./slider":11}],3:[function(a,b){const c=a("./config"),{getSliderValues:d,getClosestValue:e}=a("./slider"),f=a("./storage-local-async"),g=document.querySelector(".js-actions__restore"),h=document.querySelector(".js-actions__restore-value"),i=document.querySelector(".js-actions__restore-domain"),j=document.querySelector(c.HTML_JS_HOOK_VOLUME_SLIDER),k="domains-settings",l=(a,b)=>new Promise(l=>{chrome.runtime.sendMessage({action:c.ACTION_POPUP_GET_GAIN_VALUE,tabId:a},async a=>{if(null!==a.gainValue)g.classList.add("is-hidden"),l();else{const a=await f.load(k,{}),c=new URL(b).hostname,m=a[c]&&a[c].volume;Number.isInteger(m)&&(g.classList.remove("is-hidden"),h.textContent=m,i.textContent=c,g.addEventListener("click",()=>{const a=d(j.dataset.maxVolume),b=e(a,m);j.value=a.indexOf(b),j.dispatchEvent(new Event("input")),j.dispatchEvent(new Event("change"))},{once:!0})),l()}})});b.exports={initActionRestoreUI:async(a,b)=>{await l(a,b)},updateActionRestoreUI:async(a,b)=>{const e=d(j.dataset.maxVolume),h=await f.load(k,{}),i=new URL(a).hostname,l=e[b];h[i]=h[i]||{},h[i].volume=l,l===c.VOLUME_VALUE_DEFAULT&&delete h[i].volume,await f.save(k,h),g.classList.add("is-hidden")}}},{"./config":4,"./slider":11,"./storage-local-async":13}],4:[function(a,b){const c="https://www.petasittek.com/",d=`${c}volume-master/`,e=new URLSearchParams({utm_source:"volume-master",utm_medium:"browser-extension",utm_campaign:"chrome",utm_content:"none"}),f=chrome.runtime.getManifest().version,g=(a,b="")=>{const c=new URL(a);if(b){const a=new URLSearchParams(e);a.set("utm_content",b),c.search=a.toString()}return c.href};b.exports={CWS_REVIEWS_URL:`${"https://chrome.google.com/webstore/detail/volume-master/jghecgabfgfdldnmbfkhmffcabddioke"}/reviews`,HOMEPAGE_URL:g(c),INSTALL_URL:g(c,"install"),UNINSTALL_URL:g(c,"uninstall"),FOOTER_URL:g(c,"footer"),ISSUE_URL:g(`${d}issue/`),UPDATE_URL:g(`${`${d}version/`}${f}`,"update"),APP_VERSION:f,APP_VERSION_WITH_UPDATE_URL:["1.10.7","1.12.6","1.13.2"],DEVELOPMENT_MODE:!("update_url"in chrome.runtime.getManifest()),ACTION_POPUP_GET_GAIN_VALUE:"popup-get-gain-value",ACTION_POPUP_VOLUME_CHANGE:"popup-volume-change",AUDIO_STATE_AUDIO_CONTEXT:"audioContext",AUDIO_STATE_GAIN_NODE:"gainNode",AUDIO_STATE_GAIN_VALUE:"gainValue",VOLUME_VALUE_DEFAULT:100,VOLUME_VALUE_MAX:600,HTML_JS_HOOK_VOLUME_SLIDER:".js-volume-slider__slider"}},{}],5:[function(a,b){const c=a("./storage-local-async");STORAGE_KEY_DARK_MODE="dark-mode";const d=document.querySelector("body"),e=document.querySelector(".js-switch .js-switch__checkbox");b.exports={initDarkModeSwitchUI:async()=>{const a=await c.load(STORAGE_KEY_DARK_MODE,!1);a&&(d.classList.add("dark-mode"),e.checked=!0),setTimeout(()=>{d.classList.add("animated")},300),e.addEventListener("change",async()=>{e.checked?(d.classList.add("dark-mode"),await c.save(STORAGE_KEY_DARK_MODE,!0)):(d.classList.remove("dark-mode"),await c.save(STORAGE_KEY_DARK_MODE,!1))})}}},{"./storage-local-async":13}],6:[function(a,b){const c=a("./config"),d=document.querySelector(".js-footer-link");b.exports={initFooterUI:()=>{d.setAttribute("href",c.FOOTER_URL)}}},{"./config":4}],7:[function(a,b){const c=a("./config"),{getSliderValues:d,getClosestValue:e}=a("./slider"),f=document.querySelector(c.HTML_JS_HOOK_VOLUME_SLIDER);b.exports={initKeyboardShortcuts:()=>{document.documentElement.addEventListener("keypress",a=>{if(a.target.classList.contains("js-support__code"))return;a.preventDefault();const b=a.key.toLowerCase(),c=+b;if(!isNaN(c)){const a=d(f.dataset.maxVolume),b=e(a,100*c),g=a[f.min],h=a[f.max];if(g<=b&&b<=h)return f.value=a.indexOf(b),f.dispatchEvent(new Event("input")),void f.dispatchEvent(new Event("change"))}return"r"===b?void window.location.reload():void 0})}}},{"./config":4,"./slider":11}],8:[function(a,b){const c=a("./notifications"),d=a=>{document.querySelector(".js-notification").classList.add("is-active"),document.querySelector(".js-notification__close").dataset.id=a.id,document.querySelector(".js-notification__title").innerHTML=a.title,document.querySelector(".js-notification__message").innerHTML=a.message};b.exports={initNotificationsUI:async()=>{await c.initNotifications();const a=c.getNotification();a&&d(a)}}},{"./notifications":9}],9:[function(a,b){const c=a("./storage-local-async"),{notifications:d}=a("../config/notifications"),e="notifications",f="installation-date",g={date:new Date,installationDate:new Date,usedIds:[]},h=async()=>{g.usedIds=await c.load(e,[])},i=async a=>{g.usedIds.push(a),await c.save(e,g.usedIds)},j=async()=>{g.installationDate=new Date,await c.save(f,g.installationDate)},k=async()=>{const a=await c.load(f,null);a?g.installationDate=new Date(a):await j()},l=()=>{document.addEventListener("click",async a=>{const b=a.target.closest(".js-notification__close");if(b){const a=b.dataset.id;await i(a),b.closest(".notification").classList.remove("is-active"),document.querySelector("html").style.minHeight="auto"}})};b.exports={initNotifications:async()=>{await k(),await h(),l()},getNotification:()=>{const a=Math.floor((g.date-g.installationDate)/1e3/60/60/23);return d.filter(a=>g.date>=new Date(a.dateFrom)).filter(a=>g.date<=new Date(a.dateTo)).filter(a=>-1===g.usedIds.indexOf(a.id)).filter(b=>b.minDaysFromInstallation<=a).filter(b=>null===b.maxDaysFromInstallation||a<=b.maxDaysFromInstallation).sort((c,a)=>c.priority-a.priority).pop()}}},{"../config/notifications":1,"./storage-local-async":13}],10:[function(a,b){const c=a("./config"),{getSliderValues:d,getClosestValue:e}=a("./slider"),{renderActionResetUI:f}=a("./action-reset-ui"),{updateActionRestoreUI:g}=a("./action-restore-ui"),h=document.querySelector(c.HTML_JS_HOOK_VOLUME_SLIDER),i=document.querySelector(".js-volume-info__volume-max"),j=document.querySelector(".js-volume-info__volume-value"),k=document.querySelector(".js-actions__restore"),l=a=>new Promise(b=>{const f=c.VOLUME_VALUE_DEFAULT,g=h.dataset.maxVolume||c.VOLUME_VALUE_MAX,k=d(g);h.setAttribute("min",0),h.setAttribute("max",k.length-1);let l=e(k,f);i.textContent=g,j.textContent=l,h.value=k.indexOf(l),chrome.runtime.sendMessage({action:c.ACTION_POPUP_GET_GAIN_VALUE,tabId:a},a=>{if(null!==a.gainValue){const b=e(k,100*a.gainValue);h.value=k.indexOf(b),j.textContent=b,h.dispatchEvent(new Event("input")),h.dispatchEvent(new Event("change"))}b()})}),m=(a,b)=>{const e=d(h.dataset.maxVolume),g=e[b];j.textContent=g,chrome.runtime.sendMessage({action:c.ACTION_POPUP_VOLUME_CHANGE,tabId:a,volumeValue:g},()=>{chrome.runtime.lastError,f(a)})},n=(a,b)=>{h.addEventListener("input",b=>{m(a,b.target.value),k.classList.add("is-hidden")}),h.addEventListener("change",async()=>{await g(b,h.value)})};b.exports={initSliderUI:async(a,b)=>{await l(a),n(a,b)}}},{"./action-reset-ui":2,"./action-restore-ui":3,"./config":4,"./slider":11}],11:[function(a,b){var c=Math.abs;b.exports={getSliderValues:a=>{const b=[];for(let c=0;10>c;c++)b.push(c);for(let c=10;c<=a;c+=10)b.push(c);return b},getClosestValue:(a,b)=>a.reduce((a,d)=>c(d-b)<c(a-b)?d:a)}},{}],12:[function(a,b){const c=a("./config"),d={support:c.ISSUE_URL,review:c.CWS_REVIEWS_URL},e=document.querySelectorAll(".stars .stars__star-wrapper");b.exports={initStarsUI:()=>{e.forEach(a=>{const b=a.dataset.action,c=d[b];a.setAttribute("href",c)})}}},{"./config":4}],13:[function(a,b){b.exports={save:(a,b)=>new Promise(c=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.set(d,()=>{c()})}),load:(a,b)=>new Promise(c=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.get(d,b=>{c(JSON.parse(b[a]))})})}},{}],14:[function(a,b){const c=a("./config"),d=a("./storage-local-async"),e="is-premium",f=document.querySelector(c.HTML_JS_HOOK_VOLUME_SLIDER),g=document.querySelector(".js-heart"),h=document.querySelector(".js-support"),i=document.querySelector(".js-support__code"),j=document.querySelector(".js-support__activate"),k=document.querySelector(".js-support__thankyou"),l=document.querySelector(".js-support__invalid-code"),m=async()=>{await d.save(e,!0)},n=()=>{f.dataset.maxVolume=800};g.addEventListener("click",()=>{h.classList.toggle("is-hidden")}),j.addEventListener("click",async()=>{const a=i.value,b=btoa(a);"SUxJS0VJVExPVUQ4MDA="===b?(k.classList.remove("is-hidden"),l.classList.add("is-hidden"),await m(),n()):(l.classList.remove("is-hidden"),k.classList.add("is-hidden"))}),b.exports={initSupporterUI:n,loadIsSupporter:async()=>await d.load(e,!1)}},{"./config":4,"./storage-local-async":13}],15:[function(a,b){const c=document.querySelector(".js-tabs__title"),d=document.querySelector(".js-tabs__list"),e=()=>{chrome.tabs.query({audible:!0},a=>{a.sort((c,a)=>a.id-c.id),0<a.length?(c.textContent="Tabs playing audio right now",d.classList.add("tabs__list--active")):(c.textContent="No tabs playing audio right now",d.classList.remove("tabs__list--active")),a.forEach(a=>{const b=document.querySelector(".js-template-tab").content;b.querySelector(".js-tab").dataset.tabId=a.id,b.querySelector(".js-tab__icon-image").src=a.favIconUrl,b.querySelector(".js-tab__title").textContent=a.title,d.appendChild(document.importNode(b,!0))})})},f=()=>{d.addEventListener("click",a=>{a.preventDefault();const b=a.target,c=b.closest(".tab"),d=parseInt(c.dataset.tabId,10);chrome.tabs.update(d,{active:!0},a=>{chrome.windows.update(a.windowId,{focused:!0})})})};b.exports={initTabsUI:()=>{e(),f()}}},{}],16:[function(a,b){const c=a("./config");let d=0;const e=(a,b)=>{d+=1,c.DEVELOPMENT_MODE&&(a(`-- ${d} --`),a(b))};b.exports={dcl:a=>{e(console.log,a)},dce:a=>{e(console.error,a)},updateBadge:(a,b)=>{chrome.browserAction.setBadgeText({text:`${b}`,tabId:a})}}},{"./config":4}],17:[function(a){const b=a("./modules/utils"),{initFooterUI:c}=a("./modules/footer-ui"),{initKeyboardShortcuts:d}=a("./modules/keyboard-shortcuts"),{initNotificationsUI:e}=a("./modules/notifications-ui"),{initStarsUI:f}=a("./modules/stars-ui"),{initSupporterUI:g,loadIsSupporter:h}=a("./modules/supporter-ui"),{initTabsUI:i}=a("./modules/tabs-ui"),{initSliderUI:j}=a("./modules/slider-ui"),{initDarkModeSwitchUI:k}=a("./modules/dark-mode-switch-ui"),{initActionResetUI:l}=a("./modules/action-reset-ui"),{initActionRestoreUI:m}=a("./modules/action-restore-ui");chrome.tabs.query({active:!0,currentWindow:!0},async a=>{const n=a[0].id,o=a[0].url;if(chrome.runtime.lastError)b.dce(chrome.runtime.lastError);else{const a=await h();a&&g(),await k(),await e(),await j(n,o),await m(n,o),l(n),i(),c(),f(),d()}})},{"./modules/action-reset-ui":2,"./modules/action-restore-ui":3,"./modules/dark-mode-switch-ui":5,"./modules/footer-ui":6,"./modules/keyboard-shortcuts":7,"./modules/notifications-ui":8,"./modules/slider-ui":10,"./modules/stars-ui":12,"./modules/supporter-ui":14,"./modules/tabs-ui":15,"./modules/utils":16}]},{},[17]);